-- Ваши координаты для телепортации (измените на нужные)
local TARGET_POSITION = Vector3.new(100, 1000, 200) -- Замените на ваши координаты
local TARGET2_POSITION = Vector3.new(100, 1000, 180) -- Замените на ваши координаты
local TARGET3_POSITION = Vector3.new(100, 1000, 183) -- Замените на ваши координаты

local Compkiller = loadstring(game:HttpGet("https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/source"))();

-- Create Notification --
local Notifier = Compkiller.newNotify();

-- Create Config Mamager --
local ConfigManager = Compkiller:ConfigManager({
	Directory = "Compkiller-UI",
	Config = "Example-Configs"
});

-- Creating Window --
local Window = Compkiller.new({
	Name = "1Qlua",
	Keybind = "LeftAlt",
	Logo = "rbxassetid://80494437171393",
	Scale = Compkiller.Scale.Window,
	TextSize = 15,
});

-- Notification --
Notifier.new({
	Title = "Notification",
	Content = "Спасибо что пользуетесь мойм скриптом!",
	Duration = 10,
	Icon = "rbxassetid://120245531583106"
});

-- Watermark --
local Watermark = Window:Watermark();

Watermark:AddText({
	Icon = "user",
	Text = "1qlua",
});

-- Creating Tab Category --
Window:DrawCategory({
	Name = "Example"
});

-- Creating Tab --
local NormalTab = Window:DrawTab({
	Name = "Kat ❤️",
	Icon = "server",
	EnableScrolling = true
});

-- Creating Section --
local NormalSection = NormalTab:DrawSection({
	Name = "Kat",
	Position = 'left'	
});

-- Creating Section --
local NormalleftSection = NormalTab:DrawSection({
	Name = "Kadt",
	Position = 'right'	
});

NormalSection:AddParagraph({
	Title = "Фарм бокс",
	Content = "Фарм боксов, запускаеться и оно само фармит!)"
})

NormalSection:AddButton({
	Name = "Фарм боксов!",
	Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/FARM/farmbox"))()
	end,
})

NormalSection:AddParagraph({
	Title = "Килл алл",
	Content = "Килл алл, что бы выклучить нажмите R!)"
})

NormalSection:AddButton({
	Name = "Килл алл!",
	Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/script/kill%20all"))()
	end,
})

NormalleftSection:AddParagraph({
	Title = "Ай бот!",
	Content = "ай бот, что бы выключить нажмите E!)"
})

NormalleftSection:AddButton({
	Name = "Ай бот!",
	Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/AIBOT/Kat/AIBOT"))()
	end,
})

NormalleftSection:AddParagraph({
	Title = "Aйм!",
	Content = "айм, что бы убить надо минимально прицелица на противника, и нажать на E)"
})

NormalleftSection:AddButton({
	Name = "Айм!",
	Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/test1QLUA/QLUASCRIPT/refs/heads/main/A'))()
	end,
})

-- Creating Tab --
local NormalFarmalt = Window:DrawTab({
	Name = "Farm alt❤️",
	Icon = "server",
	EnableScrolling = true
});

-- Creating Section --
local NormalwwwSection = NormalFarmalt:DrawSection({
	Name = "для фарм аккаунтов",
	Position = 'left'	
});

-- Creating Section --
local NormalwwwrightSection = NormalFarmalt:DrawSection({
	Name = "для не фарм аккаунтов",
	Position = 'right'	
});

-- Переменные для контроля телепортации
local teleportEnabled = false
local teleport2Enabled = false
local teleportConnection
local teleport2Connection

-- Переменные для контроля камеры
local cameraLockEnabled = false
local cameraConnection
local selectedPlayer = nil

-- Функция для получения списка игроков
local function getPlayers()
    local players = {}
    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer then
            table.insert(players, player.Name)
        end
    end
    return players
end

-- Функция направления камеры на игрока
local function lockCameraToPlayer()
    if not cameraLockEnabled or not selectedPlayer then return end
    
    local targetPlayer = game.Players:FindFirstChild(selectedPlayer)
    if not targetPlayer then return end
    
    local character = targetPlayer.Character
    if not character then return end
    
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoidRootPart then return end
    
    local camera = game.Workspace.CurrentCamera
    camera.CFrame = CFrame.new(camera.CFrame.Position, humanoidRootPart.Position)
end

-- Функция телепортации
local function teleport3ToPosition()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    
    humanoidRootPart.CFrame = CFrame.new(TARGET3_POSITION)
end

-- Функция телепортации
local function teleport2ToPosition()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    
    humanoidRootPart.CFrame = CFrame.new(TARGET2_POSITION)
end

-- Функция телепортации
local function teleportToPosition()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    
    humanoidRootPart.CFrame = CFrame.new(TARGET_POSITION)
end

-- Toggle для бесконечной телепортации
local Toggle = NormalwwwSection:AddToggle({
	Name = "Бесконечная телепортация",
	Default = false,
	Callback = function(value)
        teleportEnabled = value
        
        if value then
            -- Включаем телепортацию
            Notifier.new({
                Title = "Телепортация",
                Content = "Бесконечная телепортация включена!",
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Запускаем цикл телепортации
            teleportConnection = game:GetService("RunService").Heartbeat:Connect(function()
                if teleportEnabled then
                    pcall(teleportToPosition)
                end
            end)
        else
            -- Выключаем телепортацию
            Notifier.new({
                Title = "Телепортация",
                Content = "Бесконечная телепортация выключена!",
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Отключаем соединение
            if teleportConnection then
                teleportConnection:Disconnect()
                teleportConnection = nil
            end
        end
	end,
});

NormalwwwSection:AddParagraph({
	Title = "авто убийсто с пистолета!",
	Content = "Что бы выклучить нажмите Q"
})

NormalwwwSection:AddButton({
	Name = "авто убийсто с пистолета!",
	Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/V2/ru/Kat/aimd'))()
	end,
})

NormalwwwSection:AddParagraph({
	Title = "авто доставания пистолета!",
	Content = ""
})

NormalwwwSection:AddButton({
	Name = "авто доставания пистолета!",
	Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/AIBOT/Kat/Revolver'))()
	end,
})

NormalwwwSection:AddButton({
	Name = "анти афк (вклучите со всех аккаунтов)",
	Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/test1QLUA/QLUASCRIPT/refs/heads/main/farm/antiafk'))()
	end,
})

-- Функция направления камеры на игрока
local playerDropdown = NormalwwwSection:AddDropdown({
	Name = "Выберите игрока",
	Default = "Выберите игрока",
	Values = getPlayers(),
	Callback = function(value)
        selectedPlayer = value
        Notifier.new({
            Title = "Камера",
            Content = "Выбран игрок: " .. value,
            Duration = 3,
            Icon = "rbxassetid://120245531583106"
        })
	end
})

-- Обновление списка игроков при подключении/отключении
game.Players.PlayerAdded:Connect(function()
    playerDropdown:Refresh(getPlayers())
end)

game.Players.PlayerRemoving:Connect(function()
    playerDropdown:Refresh(getPlayers())
end)

-- Toggle для направления камеры
local CameraToggle = NormalwwwSection:AddToggle({
	Name = "Направлять камеру на игрока",
	Default = false,
	Callback = function(value)
        cameraLockEnabled = value
        
        if value then
            if not selectedPlayer or selectedPlayer == "Выберите игрока" then
                Notifier.new({
                    Title = "Ошибка",
                    Content = "Сначала выберите игрока!",
                    Duration = 3,
                    Icon = "rbxassetid://120245531583106"
                })
                return
            end
            
            -- Включаем направление камеры
            Notifier.new({
                Title = "Камера",
                Content = "Камера направлена на: " .. selectedPlayer,
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Запускаем цикл направления камеры
            cameraConnection = game:GetService("RunService").RenderStepped:Connect(function()
                if cameraLockEnabled then
                    pcall(lockCameraToPlayer)
                end
            end)
        else
            -- Выключаем направление камеры
            Notifier.new({
                Title = "Камера",
                Content = "Направление камеры выключено",
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Отключаем соединение
            if cameraConnection then
                cameraConnection:Disconnect()
                cameraConnection = nil
            end
        end
	end,
});

-- Toggle для бесконечной телепортации (вторая позиция)
local Toggle2 = NormalwwwrightSection:AddToggle({
	Name = "Бесконечная телепортация 2",
	Default = false,
	Callback = function(value)
        teleport2Enabled = value
        
        if value then
            -- Включаем телепортацию
            Notifier.new({
                Title = "Телепортация",
                Content = "Бесконечная телепортация 2 включена!",
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Запускаем цикл телепортации
            teleport2Connection = game:GetService("RunService").Heartbeat:Connect(function()
                if teleport2Enabled then
                    pcall(teleport2ToPosition)
                end
            end)
        else
            -- Выключаем телепортацию
            Notifier.new({
                Title = "Телепортация",
                Content = "Бесконечная телепортация 2 выключена!",
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Отключаем соединение
            if teleport2Connection then
                teleport2Connection:Disconnect()
                teleport2Connection = nil
            end
        end
	end,
});

-- Toggle для бесконечной телепортации (вторая позиция)
local Toggle2 = NormalwwwrightSection:AddToggle({
	Name = "Бесконечная телепортация 2",
	Default = false,
	Callback = function(value)
        teleport2Enabled = value
        
        if value then
            -- Включаем телепортацию
            Notifier.new({
                Title = "Телепортация",
                Content = "Бесконечная телепортация 2 включена!",
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Запускаем цикл телепортации
            teleport2Connection = game:GetService("RunService").Heartbeat:Connect(function()
                if teleport2Enabled then
                    pcall(teleport3ToPosition)
                end
            end)
        else
            -- Выключаем телепортацию
            Notifier.new({
                Title = "Телепортация",
                Content = "Бесконечная телепортация 2 выключена!",
                Duration = 3,
                Icon = "rbxassetid://120245531583106"
            })
            
            -- Отключаем соединение
            if teleport2Connection then
                teleport2Connection:Disconnect()
                teleport2Connection = nil
            end
        end
	end,
});

-- Добавляем информацию о координатах
NormalwwwSection:AddParagraph({
	Title = "Координаты телепортации 1",
	Content = "X="..TARGET_POSITION.X..", Y="..TARGET_POSITION.Y..", Z="..TARGET_POSITION.Z
})

NormalwwwrightSection:AddParagraph({
	Title = "Координаты телепортации 2",
	Content = "X="..TARGET2_POSITION.X..", Y="..TARGET2_POSITION.Y..", Z="..TARGET2_POSITION.Z
})

NormalwwwSection:AddParagraph({
	Title = "Управление камерой",
	Content = "Выберите игрока и включите тоггл для направления камеры"
})

NormalwwwSection:AddParagraph({
	Title = "Убийство с ножа!",
	Content = "Тут настройка для убийства \nс ножа!"
})

NormalwwwSection:AddParagraph({
	Title = "авто доставания ножа!",
	Content = ""
})

NormalwwwSection:AddButton({
	Name = "авто доставания ножа!",
	Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/FARM/item'))()
	end,
})

NormalwwwSection:AddParagraph({
	Title = "авто кликер !",
	Content = "что бы выкулючить или вклучить нажмите L"
})

NormalwwwSection:AddButton({
	Name = "авто Кликер!",
	Callback = function()
		loadstring(game:HttpGet('https://raw.githubusercontent.com/1Qlua-RBXscript/1qlua/refs/heads/main/V2/ru/Kat/spamklick'))()
	end,
})


-- Инициализация конфигурации
ConfigManager:Init();
