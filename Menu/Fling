--[[
  Fling GUI Script
  Features:
  - –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π GUI –≤ CoreGui –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
  - –ö–Ω–æ–ø–∫–∞ WalkFling (–≤–∫–ª/–≤—ã–∫–ª)
  - –ö–Ω–æ–ø–∫–∞ AntiFling (–≤–∫–ª/–≤—ã–∫–ª)
  - –ö–Ω–æ–ø–∫–∞ NoClip (–≤–∫–ª/–≤—ã–∫–ª)
  - –ö–Ω–æ–ø–∫–∞ TP –∫ –∏–≥—Ä–æ–∫–∞–º (–∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è –±—É–¥—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏)
  - –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è GUI
]]

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer

-- –°–æ—Å—Ç–æ—è–Ω–∏—è
local walkflinging = false
local antifling = nil
local noClipEnabled = false
local noClipConnection = nil
local GuiVisible = true

-- –§—É–Ω–∫—Ü–∏–∏ —Ñ–ª–∏–Ω–≥–∞
local function enableWalkFling()
    if walkflinging then return end
    walkflinging = true
    task.spawn(function()
        local RunService = game:GetService("RunService")
        local LocalPlayer = game.Players.LocalPlayer
        while walkflinging do
            RunService.Heartbeat:Wait()
            local char = LocalPlayer.Character
            local root = char and char:FindFirstChild("HumanoidRootPart")
            if root then
                local vel = root.Velocity
                root.Velocity = vel * 10000 + Vector3.new(0, 10000, 0)
                
                RunService.RenderStepped:Wait()
                if root then
                    root.Velocity = vel
                end
            end
        end
    end)
end

local function disableWalkFling()
    walkflinging = false
end

local function enableAntiFling()
    if antifling then
        antifling:Disconnect()
    end
    antifling = game:GetService("RunService").Stepped:Connect(function()
        for _, player in pairs(game:GetService("Players"):GetPlayers()) do
            if player ~= game.Players.LocalPlayer and player.Character then
                for _, v in pairs(player.Character:GetDescendants()) do
                    if v:IsA("BasePart") then
                        v.CanCollide = false
                    end
                end
            end
        end
    end)
end

local function disableAntiFling()
    if antifling then
        antifling:Disconnect()
        antifling = nil
    end
end

-- –§—É–Ω–∫—Ü–∏—è NoClip
local function enableNoClip()
    if noClipEnabled then return end
    noClipEnabled = true
    
    noClipConnection = RunService.Stepped:Connect(function()
        if LocalPlayer.Character then
            for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                if part:IsA("BasePart") and part.CanCollide then
                    part.CanCollide = false
                end
            end
        end
    end)
end

local function disableNoClip()
    if not noClipEnabled then return end
    noClipEnabled = false
    
    if noClipConnection then
        noClipConnection:Disconnect()
        noClipConnection = nil
    end
    
    -- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–ª–ª–∏–∑–∏—é
    if LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = true
            end
        end
    end
end

-- –û—Å–Ω–æ–≤–Ω–æ–π GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FlingGUI"
ScreenGui.DisplayOrder = 9999 -- –ü–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.CoreGui

-- –û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 250, 0, 350) -- –£–≤–µ–ª–∏—á–∏–ª–∏ –≤—ã—Å–æ—Ç—É –¥–ª—è –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏
MainFrame.Position = UDim2.new(0.5, -125, 0.5, -175)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

-- –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = MainFrame

-- –¢–µ–Ω—å
local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(60, 60, 80)
UIStroke.Thickness = 2
UIStroke.Parent = MainFrame

-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (–¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è)
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.BackgroundColor3 = Color3.fromRGB(40, 40, 55)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = MainFrame

local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 8)
TitleCorner.Parent = TitleBar

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Name = "TitleLabel"
TitleLabel.Size = UDim2.new(1, -40, 1, 0)
TitleLabel.Position = UDim2.new(0, 10, 0, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "Fling GUI v1.1"
TitleLabel.TextColor3 = Color3.fromRGB(220, 220, 255)
TitleLabel.Font = Enum.Font.SourceSans -- –ú–µ–Ω–µ–µ –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç
TitleLabel.TextSize = 16
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
TitleLabel.Parent = TitleBar

-- –ö–Ω–æ–ø–∫–∞ —Å–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
MinimizeButton.Position = UDim2.new(1, -35, 0.5, -15)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
MinimizeButton.BorderSizePixel = 0
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.fromRGB(220, 220, 255)
MinimizeButton.Font = Enum.Font.SourceSans -- –ú–µ–Ω–µ–µ –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç
MinimizeButton.TextSize = 18
MinimizeButton.Parent = TitleBar

local MinimizeCorner = Instance.new("UICorner")
MinimizeCorner.CornerRadius = UDim.new(0, 6)
MinimizeCorner.Parent = MinimizeButton

-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–Ω–æ–ø–æ–∫
local ButtonsContainer = Instance.new("Frame")
ButtonsContainer.Name = "ButtonsContainer"
ButtonsContainer.Size = UDim2.new(1, -20, 1, -60)
ButtonsContainer.Position = UDim2.new(0, 10, 0, 50)
ButtonsContainer.BackgroundTransparency = 1
ButtonsContainer.Parent = MainFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0, 8) -- –£–º–µ–Ω—å—à–∏–ª–∏ –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Parent = ButtonsContainer

-- –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏
local function CreateButton(text, buttonColor)
    local Button = Instance.new("TextButton")
    Button.Name = text .. "Button"
    Button.Size = UDim2.new(1, 0, 0, 40) -- –£–º–µ–Ω—å—à–∏–ª–∏ –≤—ã—Å–æ—Ç—É –∫–Ω–æ–ø–æ–∫
    Button.BackgroundColor3 = buttonColor
    Button.BorderSizePixel = 0
    Button.Text = text
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.SourceSans -- –ú–µ–Ω–µ–µ –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç
    Button.TextSize = 14
    Button.AutoButtonColor = false
    Button.Parent = ButtonsContainer
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 6)
    ButtonCorner.Parent = Button
    
    local ButtonStroke = Instance.new("UIStroke")
    ButtonStroke.Color = Color3.fromRGB(255, 255, 255, 30)
    ButtonStroke.Thickness = 1
    ButtonStroke.Parent = Button
    
    -- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
    Button.MouseEnter:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.15), {BackgroundColor3 = buttonColor:Lerp(Color3.fromRGB(255, 255, 255), 0.1)}):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.15), {BackgroundColor3 = buttonColor}):Play()
    end)
    
    Button.MouseButton1Down:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.1), {Size = UDim2.new(1, -5, 0, 38)}):Play()
    end)
    
    Button.MouseButton1Up:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.1), {Size = UDim2.new(1, 0, 0, 40)}):Play()
    end)
    
    return Button
end

-- –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏
local WalkFlingButton = CreateButton("WalkFling: OFF", Color3.fromRGB(220, 60, 60))
local AntiFlingButton = CreateButton("AntiFling: OFF", Color3.fromRGB(60, 120, 220))
local NoClipButton = CreateButton("NoClip: OFF", Color3.fromRGB(180, 100, 220))
local TPButton = CreateButton("TP –∫ –∏–≥—Ä–æ–∫–∞–º", Color3.fromRGB(60, 180, 100))
local CloseButton = CreateButton("–û—Ç–∫–ª—é—á–∏—Ç—å —Å–∫—Ä–∏–ø—Ç", Color3.fromRGB(80, 80, 100))

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
local function UpdateButtonState()
    -- WalkFling
    if walkflinging then
        WalkFlingButton.Text = "WalkFling: ON"
        WalkFlingButton.BackgroundColor3 = Color3.fromRGB(60, 220, 80)
    else
        WalkFlingButton.Text = "WalkFling: OFF"
        WalkFlingButton.BackgroundColor3 = Color3.fromRGB(220, 60, 60)
    end
    
    -- AntiFling
    if antifling then
        AntiFlingButton.Text = "AntiFling: ON"
        AntiFlingButton.BackgroundColor3 = Color3.fromRGB(100, 200, 255)
    else
        AntiFlingButton.Text = "AntiFling: OFF"
        AntiFlingButton.BackgroundColor3 = Color3.fromRGB(60, 120, 220)
    end
    
    -- NoClip
    if noClipEnabled then
        NoClipButton.Text = "NoClip: ON"
        NoClipButton.BackgroundColor3 = Color3.fromRGB(220, 100, 255)
    else
        NoClipButton.Text = "NoClip: OFF"
        NoClipButton.BackgroundColor3 = Color3.fromRGB(180, 100, 220)
    end
end

-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
WalkFlingButton.MouseButton1Click:Connect(function()
    if not walkflinging then
        enableWalkFling()
        print("WalkFling –≤–∫–ª—é—á–µ–Ω")
    else
        disableWalkFling()
        print("WalkFling –≤—ã–∫–ª—é—á–µ–Ω")
    end
    UpdateButtonState()
end)

AntiFlingButton.MouseButton1Click:Connect(function()
    if not antifling then
        enableAntiFling()
        print("AntiFling –≤–∫–ª—é—á–µ–Ω")
    else
        disableAntiFling()
        print("AntiFling –≤—ã–∫–ª—é—á–µ–Ω")
    end
    UpdateButtonState()
end)

NoClipButton.MouseButton1Click:Connect(function()
    if not noClipEnabled then
        enableNoClip()
        print("NoClip –≤–∫–ª—é—á–µ–Ω")
    else
        disableNoClip()
        print("NoClip –≤—ã–∫–ª—é—á–µ–Ω")
    end
    UpdateButtonState()
end)

TPButton.MouseButton1Click:Connect(function()
    -- –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∫ –∏–≥—Ä–æ–∫–∞–º
    print("–§—É–Ω–∫—Ü–∏—è TP –∫ –∏–≥—Ä–æ–∫–∞–º (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ)")
    
    -- –í—Ä–µ–º–µ–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
    local originalText = TPButton.Text
    TPButton.Text = "–°–∫–æ—Ä–æ..."
    wait(1)
    TPButton.Text = originalText
end)

CloseButton.MouseButton1Click:Connect(function()
    -- –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
    if walkflinging then
        disableWalkFling()
    end
    if antifling then
        disableAntiFling()
    end
    if noClipEnabled then
        disableNoClip()
    end
    
    -- –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è
    TweenService:Create(MainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0, 0, 0, 350)}):Play()
    TweenService:Create(MainFrame, TweenInfo.new(0.3), {Position = UDim2.new(0.5, 0, 0.5, -175)}):Play()
    wait(0.3)
    ScreenGui:Destroy()
    print("GUI –æ—Ç–∫–ª—é—á–µ–Ω–∞")
end)

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è GUI
local Dragging, DragInput, DragStart, StartPos

local function UpdateInput(input)
    local Delta = input.Position - DragStart
    MainFrame.Position = UDim2.new(
        StartPos.X.Scale, 
        StartPos.X.Offset + Delta.X, 
        StartPos.Y.Scale, 
        StartPos.Y.Offset + Delta.Y
    )
end

TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        Dragging = true
        DragStart = input.Position
        StartPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                Dragging = false
            end
        end)
    end
end)

TitleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        DragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == DragInput and Dragging then
        UpdateInput(input)
    end
end)

-- –§—É–Ω–∫—Ü–∏—è —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è
local Minimized = false
local OriginalSize = MainFrame.Size
local OriginalPosition = MainFrame.Position

MinimizeButton.MouseButton1Click:Connect(function()
    if not Minimized then
        -- –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º
        TweenService:Create(MainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0, 250, 0, 40)}):Play()
        Minimized = true
        MinimizeButton.Text = "+"
        ButtonsContainer.Visible = false
    else
        -- –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º
        TweenService:Create(MainFrame, TweenInfo.new(0.3), {Size = OriginalSize}):Play()
        Minimized = false
        MinimizeButton.Text = "-"
        ButtonsContainer.Visible = true
    end
end)

-- –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
UpdateButtonState()

-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
print("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó")
print("‚ïë         Fling GUI v1.1 Loaded         ‚ïë")
print("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù")
print("")
print("üìå –§—É–Ω–∫—Ü–∏–∏:")
print("   ‚Ä¢ WalkFling - –í—ã–∫–∏–¥—ã–≤–∞–µ—Ç –∑–∞ –∫–∞—Ä—Ç—É")
print("   ‚Ä¢ AntiFling - –û—Ç–∫–ª—é—á–∞–µ—Ç –∫–æ–ª–ª–∏–∑–∏—é –≤—Ä–∞–≥–æ–≤")
print("   ‚Ä¢ NoClip - –†–µ–∂–∏–º –ø–æ–ª—ë—Ç–∞ —Å–∫–≤–æ–∑—å —Å—Ç–µ–Ω—ã")
print("   ‚Ä¢ TP –∫ –∏–≥—Ä–æ–∫–∞–º - (–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)")
print("")
print("‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫!")
print("   –§–ª–∏–Ω–≥ –º–æ–∂–µ—Ç –≤—ã–∫–∏–Ω—É—Ç—å –∑–∞ –∫–∞—Ä—Ç—É/–ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∫–∏–∫—É")
print("")
print("üñ±Ô∏è  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GUI:")
print("   ‚Ä¢ –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ: –ó–∞ –≤–µ—Ä—Ö–Ω—é—é –ø–∞–Ω–µ–ª—å")
print("   ‚Ä¢ –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ: –ö–Ω–æ–ø–∫–∞ [-]")
print("   ‚Ä¢ –ó–∞–∫—Ä—ã—Ç–∏–µ: –ö–Ω–æ–ø–∫–∞ '–û—Ç–∫–ª—é—á–∏—Ç—å —Å–∫—Ä–∏–ø—Ç'")
print("")
print("‚úÖ –ì–æ—Ç–æ–≤–æ! GUI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ.")
